# üé¨ Cinema Reservations System

Un sistema completo de reservas de cine construido como **demo t√©cnico** que demuestra habilidades de desarrollo full-stack con arquitectura moderna y funcionalidades avanzadas.

![Cinema Reservations](https://img.shields.io/badge/Status-Demo%20Ready-brightgreen)
![FastAPI](https://img.shields.io/badge/Backend-FastAPI-009688)
![React](https://img.shields.io/badge/Frontend-React-61DAFB)
![PostgreSQL](https://img.shields.io/badge/Database-PostgreSQL-336791)
![Docker](https://img.shields.io/badge/Deploy-Docker-2496ED)

## üöÄ Caracter√≠sticas Principales

### üîê **Sistema de Autenticaci√≥n Temporal**
- Registro e inicio de sesi√≥n con **cuentas que expiran autom√°ticamente en 10 minutos**
- L√≠mite m√°ximo de **12 usuarios simult√°neos** para simular capacidad limitada
- Contrase√±as hasheadas con **bcrypt** y autenticaci√≥n **JWT**
- Limpieza autom√°tica de sesiones expiradas cada 2 minutos

### üé≠ **Gesti√≥n de Asientos Inteligente**
- **Mapa interactivo de asientos** con grilla de 8x12 (96 asientos totales)
- Estados visuales: **Libre** (verde), **Premium** (dorado), **Reservado** (azul), **Ocupado** (rojo)
- **Asientos premium** en las mejores ubicaciones (filas centrales D-E)
- Selecci√≥n m√∫ltiple con m√°ximo de 6 asientos por usuario

### üëë **Sistema Premium**
- **Upgrade autom√°tico** con selecci√≥n inteligente de mejores asientos
- **15% de descuento** en todas las reservas
- **Combos exclusivos** VIP y Ejecutivo
- Auto-cancelaci√≥n de reservas anteriores al hacer upgrade

### üçø **Gesti√≥n de Combos**
- **Combos regulares**: Cl√°sico, Familiar, Dulce, individuales
- **Combos premium**: VIP, Ejecutivo, Todo incluido
- Integraci√≥n de precios en c√°lculo total con descuentos

### ü§ñ **Simulaci√≥n de Concurrencia**
- **Bot autom√°tico** que simula usuarios reservando asientos al azar
- Endpoint `/bot-simulation` para demostrar manejo de concurrencia
- Logs detallados de todas las acciones del sistema

### üìä **Monitoreo y Logging**
- Dashboard con **estad√≠sticas en tiempo real**
- **Logging detallado** de todas las operaciones (perfecto para demos)
- Health check endpoints y m√©tricas del sistema

## üèóÔ∏è Arquitectura del Sistema

```
üìÅ cine-reservas/
‚îú‚îÄ‚îÄ üê≥ docker-compose.yml          # Orquestaci√≥n de servicios
‚îú‚îÄ‚îÄ üìö README.md                   # Documentaci√≥n completa
‚îÇ
‚îú‚îÄ‚îÄ üìÅ backend/                    # API FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ üêç main.py                # Aplicaci√≥n principal
‚îÇ   ‚îú‚îÄ‚îÄ üóÑÔ∏è  models.py             # Modelos SQLAlchemy
‚îÇ   ‚îú‚îÄ‚îÄ üîê auth.py                # Autenticaci√≥n JWT
‚îÇ   ‚îú‚îÄ‚îÄ üóÉÔ∏è  database.py           # Configuraci√≥n BD
‚îÇ   ‚îú‚îÄ‚îÄ üìã schemas.py             # Schemas Pydantic
‚îÇ   ‚îú‚îÄ‚îÄ ‚öôÔ∏è  services.py           # L√≥gica de negocio
‚îÇ   ‚îú‚îÄ‚îÄ üê≥ Dockerfile             # Container backend
‚îÇ   ‚îú‚îÄ‚îÄ üì¶ requirements.txt       # Dependencias Python
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ routers/               # Endpoints organizados
‚îÇ       ‚îú‚îÄ‚îÄ üîë auth.py            # Rutas de autenticaci√≥n
‚îÇ       ‚îî‚îÄ‚îÄ üé´ reservations.py    # Rutas de reservas
‚îÇ
‚îú‚îÄ‚îÄ üìÅ frontend/                   # App React
‚îÇ   ‚îú‚îÄ‚îÄ ‚öõÔ∏è  src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üì± App.js             # Componente principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üé® App.css            # Estilos Tailwind
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ components/        # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üí∫ SeatButton.js  # Asiento individual
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üó∫Ô∏è  SeatsMap.js   # Mapa de asientos
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üçø ComboSelector.js # Selector de combos
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üîí ProtectedRoute.js # Rutas protegidas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ pages/             # P√°ginas principales
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üîê AuthPage.js    # Login/Registro
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üé≠ CinemaPage.js  # P√°gina principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ context/           # Context API
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üë§ AuthContext.js # Estado autenticaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ hooks/             # Hooks personalizados
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üé´ useReservations.js # Hook de reservas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ services/          # Servicios API
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üåê api.js         # Cliente HTTP
‚îÇ   ‚îú‚îÄ‚îÄ üê≥ Dockerfile             # Container frontend
‚îÇ   ‚îú‚îÄ‚îÄ üì¶ package.json           # Dependencias Node
‚îÇ   ‚îî‚îÄ‚îÄ ‚öôÔ∏è  tailwind.config.js    # Configuraci√≥n CSS
‚îÇ
‚îî‚îÄ‚îÄ üìÅ db/                         # Base de datos
    ‚îî‚îÄ‚îÄ üóÑÔ∏è  init.sql              # Schema e inicializaci√≥n
```

## üõ†Ô∏è Stack Tecnol√≥gico

### **Backend**
- **FastAPI** - Framework web moderno y r√°pido
- **PostgreSQL** - Base de datos relacional robusta
- **SQLAlchemy** - ORM avanzado con relaciones
- **JWT + bcrypt** - Autenticaci√≥n segura
- **APScheduler** - Tareas programadas en background
- **Uvicorn** - Servidor ASGI de alto rendimiento

### **Frontend**
- **React 18** - Biblioteca UI con hooks modernos
- **TailwindCSS** - Framework CSS utility-first
- **Axios** - Cliente HTTP con interceptors
- **React Router** - Navegaci√≥n SPA
- **React Hot Toast** - Notificaciones elegantes
- **Lucide React** - Iconos SVG optimizados

### **DevOps**
- **Docker Compose** - Orquestaci√≥n multi-container
- **PostgreSQL 15** - BD containerizada
- **Nginx** (opcional) - Proxy reverso
- **Health Checks** - Monitoreo de servicios

## üöÄ Instalaci√≥n y Ejecuci√≥n

### **Opci√≥n 1: Con Docker (Recomendado)**

```bash
# 1. Clonar el repositorio
git clone [tu-repo]/cine-reservas.git
cd cine-reservas

# 2. Levantar todos los servicios
docker compose up --build

# 3. Esperar a que todos los servicios est√©n listos
# ‚úÖ Backend: http://localhost:8000
# ‚úÖ Frontend: http://localhost:3000
# ‚úÖ PostgreSQL: localhost:5432

# 4. Abrir en el navegador
open http://localhost:3000
```

### **Opci√≥n 2: Desarrollo Local**

```bash
# Backend
cd backend
pip install -r requirements.txt
export DATABASE_URL="postgresql://cinema_user:cinema_pass@localhost:5432/cine_reservas"
uvicorn main:app --reload --host 0.0.0.0 --port 8000

# Frontend (en otra terminal)
cd frontend
npm install
npm start

# PostgreSQL (usando Docker)
docker run --name cinema-postgres -e POSTGRES_DB=cine_reservas -e POSTGRES_USER=cinema_user -e POSTGRES_PASSWORD=cinema_pass -p 5432:5432 -d postgres:15
```

## üéØ Gu√≠a de Uso

### **1. Registro/Login**
1. Accede a http://localhost:3000
2. Haz clic en "Crear Cuenta" 
3. Ingresa un username √∫nico (ej: `demo_user_1`)
4. Define una contrase√±a (ej: `1234`)
5. ¬°Tu cuenta expirar√° autom√°ticamente en 10 minutos! ‚è∞

### **2. Reservar Asientos**
1. **Explora el mapa**: Ve los asientos disponibles (verde) y premium (dorado)
2. **Selecciona asientos**: Haz clic en hasta 6 asientos
3. **Elige un combo**: Opcional - selecciona tu combo favorito
4. **Confirma reserva**: Revisa el total y confirma

### **3. Funcionalidades Premium** üëë
1. **Haz clic en "Actualizar a Premium"**
2. **Beneficios inmediatos**:
   - 15% de descuento autom√°tico
   - Auto-selecci√≥n de mejores asientos
   - Acceso a combos VIP exclusivos
   - Badge dorado en la interfaz

### **4. Simulaci√≥n de Concurrencia** ü§ñ
- Haz clic en el bot√≥n **"Bot"** para simular otro usuario reservando
- Observa en tiempo real c√≥mo cambian los asientos
- Perfecto para demostrar manejo de concurrencia

### **5. Monitoreo**
- **Panel de estad√≠sticas** en tiempo real
- **Logs detallados** en la consola del backend
- **Health check**: http://localhost:8000/health

## üé® Capturas de Pantalla

### Login/Registro
- ‚úÖ Dise√±o moderno con fondo degradado
- ‚úÖ Validaci√≥n en tiempo real
- ‚úÖ Indicadores de l√≠mites y expiraci√≥n

### Mapa de Asientos
- ‚úÖ Grilla interactiva 8x12 con pasillos
- ‚úÖ Estados visuales claros por colores
- ‚úÖ Tooltips informativos
- ‚úÖ Leyenda completa

### Panel Premium
- ‚úÖ Efectos visuales dorados
- ‚úÖ Beneficios claramente destacados
- ‚úÖ Bot√≥n prominente de upgrade

### Dashboard M√≥vil
- ‚úÖ Responsive design completo
- ‚úÖ Panel deslizable en m√≥viles
- ‚úÖ Touch-friendly para tablets

## üß™ Testing y Desarrollo

### **Datos de Prueba**
```sql
-- El sistema inicializa autom√°ticamente:
-- ‚úÖ 96 asientos (A1-H12)
-- ‚úÖ 40 asientos premium en mejores ubicaciones
-- ‚úÖ Usuario bot para simulaciones
-- ‚úÖ Combos predefinidos
```

### **Endpoints de API**

```bash
# Salud del sistema
GET /health

# Autenticaci√≥n
POST /api/auth/register
POST /api/auth/login
GET /api/auth/me

# Reservas
GET /api/reservations/seats
POST /api/reservations/book
DELETE /api/reservations/cancel/{seat_id}
POST /api/reservations/premium

# Simulaci√≥n
POST /api/reservations/bot-simulation

# Documentaci√≥n autom√°tica
GET /docs (Swagger UI)
```

### **Variables de Entorno**
```env
# Backend
DATABASE_URL=postgresql://cinema_user:cinema_pass@db:5432/cine_reservas
SECRET_KEY=tu_clave_secreta_jwt_aqui_cambiar_en_produccion
ACCESS_TOKEN_EXPIRE_MINUTES=10

# Frontend  
REACT_APP_API_URL=http://localhost:8000
```

## üîß Configuraci√≥n Avanzada

### **Personalizar L√≠mites**
```python
# backend/auth.py - L√≠nea 145
MAX_USERS = 12  # Cambiar l√≠mite de usuarios

# backend/main.py - L√≠nea 85  
CLEANUP_INTERVAL = 2  # Minutos entre limpiezas

# backend/auth.py - L√≠nea 12
ACCESS_TOKEN_EXPIRE_MINUTES = 10  # Expiraci√≥n de sesi√≥n
```

### **Configurar Asientos**
```sql
-- db/init.sql
-- Personalizar layout de asientos, precios, combos
UPDATE seats SET is_premium = true WHERE row_letter IN ('D', 'E');
```

## üö® Limitaciones por Dise√±o

1. **‚è∞ Sesiones temporales**: M√°ximo 10 minutos por usuario
2. **üë• Usuarios limitados**: Solo 12 simult√°neos
3. **üé´ Reservas limitadas**: M√°ximo 6 asientos por usuario  
4. **üóÑÔ∏è Datos en memoria**: La BD se resetea al reiniciar containers
5. **üîÑ Demo purposes**: No optimizado para producci√≥n real

> ‚ö†Ô∏è **Nota**: Estas limitaciones son **intencionales** para demostrar capacidades de manejo de recursos limitados y l√≥gica de negocio compleja.

## üéØ Casos de Uso Demo

### **Para Reclutadores**
```bash
# 1. Levantar sistema
docker compose up --build

# 2. Crear 2-3 usuarios simult√°neos
# Usuario 1: demo_reclutador (Premium)
# Usuario 2: demo_usuario (Regular)
# Usuario 3: Simulaci√≥n de bot

# 3. Demostrar funcionalidades
- Reservas concurrentes ‚úÖ
- Sistema premium ‚úÖ  
- Bot simulation ‚úÖ
- Expiraci√≥n autom√°tica ‚úÖ
- Logs en tiempo real ‚úÖ
```

### **Para Presentaciones**
1. **Abrir m√∫ltiples pesta√±as** con usuarios diferentes
2. **Activar bot simulation** para mostrar concurrencia  
3. **Mostrar logs del backend** en terminal
4. **Explicar arquitectura** con el diagrama
5. **Destacar decisiones t√©cnicas** (JWT, cleanup, limits)

## üéì Decisiones T√©cnicas

### **¬øPor qu√© FastAPI?**
- **Documentaci√≥n autom√°tica** con OpenAPI/Swagger
- **Validaci√≥n autom√°tica** con Pydantic schemas
- **Performance excepcional** comparable a Node.js
- **Type hints** nativos de Python
- **Async/await** para operaciones concurrentes

### **¬øPor qu√© React con Hooks?**
- **C√≥digo m√°s limpio** que class components
- **useContext** para estado global sin Redux
- **Custom hooks** para l√≥gica reutilizable
- **Functional programming** approach

### **¬øPor qu√© PostgreSQL?**
- **ACID compliance** para transacciones cr√≠ticas
- **Relaciones complejas** entre users/seats/reservations
- **Stored procedures** para limpieza autom√°tica
- **Escalabilidad** superior a SQLite

### **¬øPor qu√© Tailwind CSS?**
- **Utility-first** para desarrollo r√°pido  
- **Purging autom√°tico** para bundles peque√±os
- **Responsive design** built-in
- **Consistency** visual sin esfuerzo extra

## üîÆ Posibles Extensiones

### **Funcionalidades**
- [ ] **M√∫ltiples salas** de cine
- [ ] **Horarios de funciones** din√°micos
- [ ] **Pagos simulados** con Stripe/PayPal
- [ ] **Notificaciones push** de expiraci√≥n
- [ ] **QR codes** para tickets
- [ ] **Analytics dashboard** avanzado

### **Tecnol√≥gicas**
- [ ] **Redis** para cache y sessiones
- [ ] **WebSockets** para updates en tiempo real
- [ ] **Kubernetes** deployment
- [ ] **CI/CD** con GitHub Actions
- [ ] **Monitoring** con Prometheus/Grafana
- [ ] **Testing** automatizado (Jest + Pytest)

## üìû Contacto y Soporte

**Desarrollado como demo t√©cnico por**: [Tu Nombre]

- üìß **Email**: tu.email@ejemplo.com
- üíº **LinkedIn**: linkedin.com/in/tu-perfil
- üê± **GitHub**: github.com/tu-usuario
- üåê **Portfolio**: tu-portfolio.com

---

## üìú Licencia

Este proyecto est√° bajo la **MIT License** - ver [LICENSE](LICENSE) para detalles.

```
MIT License - Uso libre para fines educativos y de demostraci√≥n
```

## ‚≠ê ¬øTe gust√≥ el proyecto?

Si este sistema de reservas te result√≥ √∫til o interesante:

1. **Dale una estrella** ‚≠ê al repositorio
2. **Comp√°rtelo** con otros developers
3. **Fork it** para tus propios experimentos
4. **Cont√°ctame** para feedback o colaboraciones

---

*Este README fue dise√±ado para impresionar a reclutadores t√©cnicos y demostrar habilidades de documentaci√≥n profesional. El sistema est√° optimizado para demos en vivo y explicaciones t√©cnicas detalladas.*

**üé¨ ¬°Que disfrutes explorando el Cinema Reservations System! üçø**